<html><head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Graphicmath" rel="Chapter" href="Graphicmath.html"><title>Graphicmath.Spec</title>
</head>
<body>
<code class="code"><span class="keyword">struct</span><br>
<br>
<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <center>§ </center> *)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(** 
<span id="1_Introduction"><h1>Introduction</h1></span>
*)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(** <center> </center> *)</span></td></tr></table><code class="code"><br>
<br>
<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(**
The mathematician will find in this module functions in order to:
<p>
<ul>
<li>find to which module(s) belongs a function,</li>
</ul>
<ul>
<li>extract the basis specification from the html documentation,</li>
</ul>
<ul>
<li>extract the source code (extended specification) from the html documentation,</li>
</ul>
<ul>
<li>find quotations in the html documentation.</li>
</ul>

<span id="2_Conventions"><h2>Conventions</h2></span>
<p>

The functions <code class="code">what*</code>, <code class="code">how*</code> and <code class="code">why*</code> browse the html documentation. 
Some of these functions must receive as arguments character strings in order to build paths toward adequate directories or files.
<p>

The functions <code class="code">which*</code> proceed by try-and-fail compilation: they do not need any presence of html documentation.
<p>

<span id="2_Comments"><h2>Comments</h2></span>
<p>

In order to avoid early coincidences, it may be useful to put a space at the end of the name of a function.
<p>

The extractions from the documentation are done with <code class="code">lynx</code> which must be installed on the machine.
<p>

This module is distributed under the same licence as Ocaml.
<p>

<center>§ </center>
<p>

La mathématicienne ou le mathématicien trouvera dans ce module des fonctions pour :
<p>
<ul>
<li>trouver à quel(s) module(s) appartient une fonction,</li>
</ul>
<ul>
<li>extraire la spécification de base à partir de la documentation html,</li>
</ul>
<ul>
<li>extraire le code source (spécification étendue) à partir de la documentation html,</li>
</ul>
<ul>
<li>trouver des citations dans la documentation html.</li>
</ul>

<span id="2_Conventions"><h2>Conventions</h2></span>
<p>

Les fonctions <code class="code">what*</code>, <code class="code">how*</code> et <code class="code">why*</code> explorent la documentation html. 
Il faut fournir en arguments à certaines de ces fonctions des chaînes de caractères pour constituer un chemin vers les répertoires ou fichiers adéquats.
<p>

Les fonctions <code class="code">which*</code> procèdent par essai-échec de compilation : elles ne nécessitent aucune présence de documentation html.
<p>

<span id="2_Commentaires"><h2>Commentaires</h2></span>
<p>

Pour éviter des coïncidences précoces, il est parfois utile de mettre un espace à la fin d'un nom de fonction.
<p>

Les extractions à partir de la documentation se font avec <code class="code">lynx</code> qui doit être installé sur la machine.
<p>

Ce module est distribué selon la même licence qu'Ocaml.
<p>

<center>Copyright Stéphane Grognet </center>
<center>Laboratoire de mathématiques Jean Leray UMR 6629 CNRS </center>
<center>Fédération de recherche mathématique des Pays de la Loire </center>
<center>IREM des Pays de la Loire - Université de Nantes </center>
<center>version 0.2</center>
*)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(**
@version 0.2
*)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(**
@author Stéphane Grognet
*)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(**
@since 2012, 2013
*)</span></td></tr></table><code class="code"><br>
<br>
<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <center>§ </center> *)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(** 
<span id="1_Initialisation"><h1>Initialisation</h1></span>
*)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(** <center> </center> *)</span></td></tr></table><code class="code"><br>
<br>
<br>
<br>
<br>
<span class="keyword">open</span>&nbsp;<span class="constructor">Util</span>&nbsp;;;<br>
<span class="keyword">open</span>&nbsp;<span class="constructor">Readwrite</span>&nbsp;;;<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>standard_modules_list</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;standard_modules_list&nbsp;=&nbsp;[&nbsp;<span class="string">"Arg"</span>&nbsp;;&nbsp;<span class="string">"Array"</span>&nbsp;;&nbsp;<span class="string">"ArrayLabels"</span>&nbsp;;<br>
&nbsp;<span class="string">"Buffer"</span>&nbsp;;<br>
&nbsp;<span class="string">"Callback"</span>&nbsp;;&nbsp;<span class="string">"CamlinternalLazy"</span>&nbsp;;&nbsp;<span class="string">"CamlinternalMod"</span>&nbsp;;&nbsp;<span class="string">"CamlinternalOO"</span>&nbsp;;&nbsp;<span class="string">"Char"</span>&nbsp;;&nbsp;<span class="string">"Complex"</span>&nbsp;;&nbsp;<br>
&nbsp;<span class="string">"Digest"</span>&nbsp;;<br>
&nbsp;<span class="string">"Filename"</span>&nbsp;;&nbsp;<span class="string">"Format"</span>&nbsp;;<br>
&nbsp;<span class="string">"Gc"</span>&nbsp;;&nbsp;<span class="string">"Genlex"</span>&nbsp;;<br>
&nbsp;<span class="string">"Hashtbl"</span>&nbsp;;&nbsp;<span class="string">"Hashtbl.Make"</span>&nbsp;;<br>
&nbsp;<span class="string">"Int32"</span>&nbsp;;&nbsp;<span class="string">"Int64"</span>&nbsp;;<br>
&nbsp;<span class="string">"Lazy"</span>&nbsp;;&nbsp;<span class="string">"Lexing"</span>&nbsp;;&nbsp;<span class="string">"List"</span>&nbsp;;&nbsp;<span class="string">"ListLabels"</span>&nbsp;;<br>
&nbsp;<span class="string">"Map"</span>&nbsp;;&nbsp;<span class="string">"Map.Make"</span>&nbsp;;&nbsp;<span class="string">"Marshal"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels.Hashtbl"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels.Hashtbl.Make"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels.Map"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels.Map.Make"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels.Set"</span>&nbsp;;&nbsp;<span class="string">"MoreLabels.Set.Make"</span>&nbsp;;<br>
&nbsp;<span class="string">"Nativeint"</span>&nbsp;;<br>
&nbsp;<span class="string">"Obj"</span>&nbsp;;&nbsp;&nbsp;<span class="string">"Oo"</span>&nbsp;;&nbsp;<br>
&nbsp;<span class="string">"Parsing"</span>&nbsp;;&nbsp;<span class="string">"Pervasives"</span>&nbsp;;&nbsp;<span class="string">"Printexc"</span>&nbsp;;&nbsp;<span class="string">"Printf"</span>&nbsp;;<br>
&nbsp;<span class="string">"Queue"</span>&nbsp;;<br>
&nbsp;<span class="string">"Random"</span>&nbsp;;&nbsp;<span class="string">"Random.State"</span>&nbsp;;<br>
&nbsp;<span class="string">"Scanf"</span>&nbsp;;&nbsp;&nbsp;<span class="string">"Scanf.Scanning"</span>&nbsp;;&nbsp;<span class="string">"Set"</span>&nbsp;;&nbsp;<span class="string">"Set.Make"</span>&nbsp;;&nbsp;<span class="string">"Sort"</span>&nbsp;;&nbsp;<span class="string">"Stack"</span>&nbsp;;&nbsp;<span class="string">"StdLabels"</span>&nbsp;;&nbsp;<span class="string">"StdLabels.Array"</span>&nbsp;;&nbsp;<span class="string">"StdLabels.List"</span>&nbsp;;&nbsp;<span class="string">"StdLabels.String"</span>&nbsp;;&nbsp;<span class="string">"Stream"</span>&nbsp;;&nbsp;<span class="string">"String"</span>&nbsp;;&nbsp;<span class="string">"StringLabels"</span>&nbsp;;&nbsp;<span class="string">"Sys"</span>&nbsp;;<br>
&nbsp;<span class="string">"Weak"</span>&nbsp;;&nbsp;<span class="string">"Weak.Make"</span><br>
&nbsp;]&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>non_standard_modules_list</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;non_standard_modules_list&nbsp;=&nbsp;[&nbsp;(&nbsp;<span class="string">"Arith_status"</span>&nbsp;,&nbsp;<span class="string">"nums.cma"</span>&nbsp;)&nbsp;;&nbsp;<br>
&nbsp;(&nbsp;<span class="string">"Big_int"</span>&nbsp;,&nbsp;<span class="string">"nums.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Bigarray"</span>&nbsp;,&nbsp;<span class="string">"bigarray.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Bigarray.Array1"</span>&nbsp;,&nbsp;<span class="string">"bigarray.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Bigarray.Array2"</span>&nbsp;,&nbsp;<span class="string">"bigarray.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Bigarray.Array3"</span>&nbsp;,&nbsp;<span class="string">"bigarray.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Bigarray.Genarray"</span>&nbsp;,&nbsp;<span class="string">"bigarray.cma"</span>&nbsp;)&nbsp;;&nbsp;<br>
&nbsp;(&nbsp;<span class="string">"Com"</span>&nbsp;,&nbsp;<span class="string">"com.cma"</span>&nbsp;)&nbsp;;<br>
&nbsp;(&nbsp;<span class="string">"Dbm"</span>&nbsp;,&nbsp;<span class="string">"dbm.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Dynlink"</span>&nbsp;,&nbsp;<span class="string">"dynlink.cma"</span>&nbsp;)&nbsp;;<br>
&nbsp;(&nbsp;<span class="string">"Graphics"</span>&nbsp;,&nbsp;<span class="string">"graphics.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"GraphicsX11"</span>&nbsp;,&nbsp;<span class="string">"graphicsX11.cmx"</span>&nbsp;)&nbsp;;<br>
&nbsp;(&nbsp;<span class="string">"Nat"</span>&nbsp;,&nbsp;<span class="string">"nums.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Num"</span>&nbsp;,&nbsp;<span class="string">"nums.cma"</span>&nbsp;)&nbsp;;<br>
&nbsp;(&nbsp;<span class="string">"Ratio"</span>&nbsp;,&nbsp;<span class="string">"nums.cma"</span>&nbsp;)&nbsp;;<br>
&nbsp;(&nbsp;<span class="string">"Str"</span>&nbsp;,&nbsp;<span class="string">"str.cma"</span>&nbsp;)&nbsp;;<br>
&nbsp;(&nbsp;<span class="string">"Unix"</span>&nbsp;,&nbsp;<span class="string">"unix.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"Unix.LargeFile"</span>&nbsp;,&nbsp;<span class="string">"unix.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"UnixLabels"</span>&nbsp;,&nbsp;<span class="string">"unix.cma"</span>&nbsp;)&nbsp;;&nbsp;(&nbsp;<span class="string">"UnixLabels.LargeFile"</span>&nbsp;,&nbsp;<span class="string">"unix.cma"</span>&nbsp;)<br>
&nbsp;]&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>math_modules_list</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;math_modules_list&nbsp;=<br>
&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;dep&nbsp;=&nbsp;ref<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;<span class="string">"../math/depend.conf"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;<span class="string">"../depend.conf"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/../depend.conf"</span>&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;accu&nbsp;=&nbsp;ref&nbsp;[]<br>
&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;f&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;x&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">Readwrite</span>.string_match&nbsp;(&nbsp;<span class="constructor">Str</span>.regexp&nbsp;(&nbsp;<span class="constructor">Str</span>.quote&nbsp;<span class="string">"["</span>&nbsp;)&nbsp;)&nbsp;x&nbsp;0&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;g&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;x&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;f&nbsp;x&nbsp;<span class="keyword">then</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;i&nbsp;=&nbsp;<span class="constructor">Str</span>.match_beginning&nbsp;()&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">String</span>.sub&nbsp;x&nbsp;0&nbsp;i<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failwith&nbsp;<span class="string">"Functor&nbsp;in&nbsp;Spec.math_modules_list."</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;<span class="constructor">Util</span>.list_non_empty&nbsp;!dep&nbsp;<span class="keyword">do</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accu&nbsp;:=&nbsp;(&nbsp;g&nbsp;(&nbsp;<span class="constructor">List</span>.hd&nbsp;!dep&nbsp;)&nbsp;)&nbsp;::&nbsp;!accu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dep&nbsp;:=&nbsp;<span class="constructor">List</span>.tl&nbsp;!dep<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">done</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;!accu<br>
&nbsp;<span class="keyword">end</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>math_functors_list</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;math_functors_list&nbsp;=<br>
&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;dep&nbsp;=&nbsp;ref<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;<span class="string">"../math/depend.conf"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;<span class="string">"../depend.conf"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/../depend.conf"</span>&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;accu&nbsp;=&nbsp;ref&nbsp;[]<br>
&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;f&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;x&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">Readwrite</span>.string_match&nbsp;(&nbsp;<span class="constructor">Str</span>.regexp&nbsp;(&nbsp;<span class="constructor">Str</span>.quote&nbsp;<span class="string">"["</span>&nbsp;)&nbsp;)&nbsp;x&nbsp;0&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;g&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;x&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;not&nbsp;(&nbsp;f&nbsp;x&nbsp;)&nbsp;<span class="keyword">then</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;<span class="constructor">Readwrite</span>.string_match&nbsp;(&nbsp;<span class="constructor">Str</span>.regexp&nbsp;<span class="string">"[^A-Za-z_.]"</span>&nbsp;)&nbsp;x&nbsp;0&nbsp;<span class="keyword">then</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;i&nbsp;=&nbsp;<span class="constructor">Str</span>.match_beginning&nbsp;()&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">String</span>.sub&nbsp;x&nbsp;0&nbsp;i<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failwith&nbsp;<span class="string">"Error&nbsp;in&nbsp;Spec.math_functors_list."</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failwith&nbsp;<span class="string">"Plain&nbsp;module&nbsp;in&nbsp;Spec.math_functors_list."</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;<span class="constructor">Util</span>.list_non_empty&nbsp;!dep&nbsp;<span class="keyword">do</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accu&nbsp;:=&nbsp;(&nbsp;g&nbsp;(&nbsp;<span class="constructor">List</span>.hd&nbsp;!dep&nbsp;)&nbsp;)&nbsp;::&nbsp;!accu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dep&nbsp;:=&nbsp;<span class="constructor">List</span>.tl&nbsp;!dep<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">done</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;!accu<br>
&nbsp;<span class="keyword">end</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>standard_path</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;standard_path&nbsp;=<br>
&nbsp;ignore&nbsp;(&nbsp;<span class="constructor">Sys</span>.command&nbsp;<span class="string">"which&nbsp;ocamlrun&nbsp;&gt;&nbsp;tmp.txt"</span>&nbsp;)&nbsp;;<br>
&nbsp;<span class="keyword">let</span>&nbsp;chaine&nbsp;=&nbsp;<span class="constructor">List</span>.hd&nbsp;(&nbsp;<span class="constructor">Readwrite</span>.list_read_reverse_text_file&nbsp;<span class="string">"tmp.txt"</span>)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;ignore&nbsp;(&nbsp;<span class="constructor">Sys</span>.command&nbsp;<span class="string">"rm&nbsp;tmp.txt"</span>&nbsp;)&nbsp;;<br>
&nbsp;&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;chaine&nbsp;)&nbsp;;;<br>
<br>
<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <center>§ </center> *)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(** 
<span id="1_Fonctionsderechercheetdedocumentation"><h1>Fonctions de recherche et de documentation</h1></span>
<span id="1_Searchanddocumentationfunctions"><h1>Search and documentation functions</h1></span>
*)</span></td></tr></table><code class="code"><br>
</code><table><tr><td></td><td><span class="comment">(** <center> </center> *)</span></td></tr></table><code class="code"><br>
<br>
<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** The functions <code class="code">which*</code> proceed by try-and-fail compilation.
<p>

Les fonctions <code class="code">which*</code> procèdent par essai-échec de compilation. *)</span></td></tr></table><code class="code"><br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>which_standard standard_modules_list value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;which_standard&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(l:string&nbsp;list)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;list&nbsp;=&nbsp;ref&nbsp;l<br>
&nbsp;<span class="keyword">and</span>&nbsp;stamp&nbsp;=&nbsp;<span class="string">"standard&nbsp;module"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;heading&nbsp;=&nbsp;<span class="string">"module&nbsp;Try&nbsp;=&nbsp;struct"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;closing&nbsp;=&nbsp;<span class="string">"end&nbsp;;;"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;module_name&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;result&nbsp;=&nbsp;ref&nbsp;[]<br>
&nbsp;<span class="keyword">and</span>&nbsp;opening&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;test&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;<span class="constructor">Util</span>.list_non_empty&nbsp;!list&nbsp;<span class="keyword">do</span><br>
&nbsp;&nbsp;&nbsp;module_name&nbsp;:=&nbsp;<span class="constructor">List</span>.hd&nbsp;!list&nbsp;;<br>
&nbsp;&nbsp;&nbsp;opening&nbsp;:=&nbsp;<span class="string">"open&nbsp;"</span>&nbsp;^&nbsp;!module_name&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;test&nbsp;:=&nbsp;!module_name&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;!opening&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-o&nbsp;/dev/null&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;&nbsp;:=&nbsp;<span class="constructor">List</span>.tl&nbsp;!list<br>
&nbsp;&nbsp;<span class="keyword">done</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.cmi"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="constructor">Array</span>.of_list&nbsp;(&nbsp;<span class="constructor">List</span>.rev&nbsp;!result&nbsp;)&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>which_non_standard non_standard_modules_list value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;which_non_standard&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(l:(string&nbsp;*&nbsp;string&nbsp;)&nbsp;list)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;list&nbsp;=&nbsp;ref&nbsp;l<br>
&nbsp;<span class="keyword">and</span>&nbsp;stamp&nbsp;=&nbsp;<span class="string">"non&nbsp;standard&nbsp;module"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;heading&nbsp;=&nbsp;<span class="string">"module&nbsp;Try&nbsp;=&nbsp;struct"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;closing&nbsp;=&nbsp;<span class="string">"end&nbsp;;;"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;module_name&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;result&nbsp;=&nbsp;ref&nbsp;[]<br>
&nbsp;<span class="keyword">and</span>&nbsp;loading&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;opening&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;test&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;<span class="constructor">Util</span>.list_non_empty&nbsp;!list&nbsp;<span class="keyword">do</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;item&nbsp;=&nbsp;<span class="constructor">List</span>.hd&nbsp;!list&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;module_name&nbsp;:=&nbsp;fst&nbsp;item&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;opening&nbsp;:=&nbsp;<span class="string">"open&nbsp;"</span>&nbsp;^&nbsp;!module_name&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;loading&nbsp;:=&nbsp;snd&nbsp;item&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;test&nbsp;:=&nbsp;!module_name&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;!opening&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;!loading&nbsp;^&nbsp;<span class="string">"&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;&nbsp;:=&nbsp;<span class="constructor">List</span>.tl&nbsp;!list<br>
&nbsp;&nbsp;<span class="keyword">done</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.cmi"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="constructor">Array</span>.of_list&nbsp;(&nbsp;<span class="constructor">List</span>.rev&nbsp;!result&nbsp;)&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>which_math math_modules_list value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;which_math&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(l:string&nbsp;list)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;list&nbsp;=&nbsp;ref&nbsp;l<br>
&nbsp;<span class="keyword">and</span>&nbsp;stamp&nbsp;=&nbsp;<span class="string">"math&nbsp;module"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;heading&nbsp;=&nbsp;<span class="string">"module&nbsp;Try&nbsp;=&nbsp;struct"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;closing&nbsp;=&nbsp;<span class="string">"end&nbsp;;;"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;module_name&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;result&nbsp;=&nbsp;ref&nbsp;[]<br>
&nbsp;<span class="keyword">and</span>&nbsp;test&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;<span class="constructor">Util</span>.list_non_empty&nbsp;!list&nbsp;<span class="keyword">do</span><br>
&nbsp;&nbsp;&nbsp;module_name&nbsp;:=&nbsp;<span class="constructor">List</span>.hd&nbsp;!list&nbsp;;<br>
&nbsp;&nbsp;&nbsp;test&nbsp;:=&nbsp;!module_name&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** The files "graphicmath.cma" and "graphicmath.cmi" must be in the same directory as this module.
<p>

Les fichiers "graphicmath.cma" et "graphicmath.cmi" doivent être dans le même répertoire que ce module. *)</span></td></tr></table><code class="code"><br>
<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;&nbsp;:=&nbsp;<span class="constructor">List</span>.tl&nbsp;!list<br>
&nbsp;&nbsp;<span class="keyword">done</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.cmi"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="constructor">Array</span>.of_list&nbsp;(&nbsp;<span class="constructor">List</span>.rev&nbsp;!result&nbsp;)&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>which_math_functor math_modules_list value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;which_math_functor&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(l:string&nbsp;list)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;list&nbsp;=&nbsp;ref&nbsp;l<br>
&nbsp;<span class="keyword">and</span>&nbsp;stamp&nbsp;=&nbsp;<span class="string">"math&nbsp;functor"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;heading&nbsp;=&nbsp;<span class="string">"module&nbsp;Try&nbsp;=&nbsp;struct"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;closing&nbsp;=&nbsp;<span class="string">"end&nbsp;;;"</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;module_name&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span><br>
&nbsp;<span class="keyword">and</span>&nbsp;result&nbsp;=&nbsp;ref&nbsp;[]<br>
&nbsp;<span class="keyword">and</span>&nbsp;test&nbsp;=&nbsp;ref&nbsp;<span class="string">""</span>&nbsp;<span class="keyword">in</span><br>
</code><table><tr><td></td><td><span class="comment">(** The files "graphicmath.cma" and "graphicmath.cmi" must be in the same directory as this module.
<p>

Les fichiers "graphicmath.cma" et "graphicmath.cmi" doivent être dans le même répertoire que ce module. *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;<span class="constructor">Util</span>.list_non_empty&nbsp;!list&nbsp;<span class="keyword">do</span><br>
&nbsp;&nbsp;&nbsp;module_name&nbsp;:=&nbsp;<span class="constructor">List</span>.hd&nbsp;!list&nbsp;;<br>
&nbsp;&nbsp;&nbsp;test&nbsp;:=&nbsp;!module_name&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Bary.make *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(Data.Zindex)&nbsp;(Data.Rbare_coeff)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Data.Index_of_array *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(&nbsp;struct&nbsp;type&nbsp;t&nbsp;=&nbsp;int&nbsp;;;&nbsp;let&nbsp;a&nbsp;=&nbsp;[|&nbsp;1&nbsp;|]&nbsp;;;&nbsp;let&nbsp;of_string&nbsp;=&nbsp;int_of_string&nbsp;;;&nbsp;let&nbsp;to_string&nbsp;=&nbsp;string_of_int&nbsp;;;&nbsp;let&nbsp;print&nbsp;=&nbsp;print_int&nbsp;;;&nbsp;let&nbsp;eq&nbsp;=&nbsp;(&nbsp;=&nbsp;)&nbsp;;;&nbsp;end&nbsp;)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Data.Multi_index *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(Data.Zindex)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Data.Normalize_field_coefficient ; Data.Normalize_rng_coefficient *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(Data.Rbare_coeff)&nbsp;(Data.Rbare_coeff)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Fft.Field ; Mat.Field ; Mat.Rng *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(Data.Rcoeff)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Hash.Multi_hasher *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(Data.Zindex)&nbsp;(Hash.Z)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
</code><table><tr><td></td><td><span class="comment">(** Hash.Make ; Sparse_vector.Rng ; Sparse_vector.Field ; Sparse_tensor.Rng ; Sparse_tensor.Field ; Sparse_matrix.Rng ; Sparse_matrix.Field *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;heading&nbsp;;&nbsp;<span class="string">"open&nbsp;Graphicmath&nbsp;;;"</span>&nbsp;;&nbsp;<span class="string">"include&nbsp;(&nbsp;"</span>&nbsp;^&nbsp;!test&nbsp;^&nbsp;<span class="string">"&nbsp;(Data.Zindex)&nbsp;(Hash.Z)&nbsp;(Data.Rcoeff)&nbsp;)&nbsp;;;&nbsp;"</span>&nbsp;;&nbsp;<span class="string">"let&nbsp;trying&nbsp;=&nbsp;"</span>&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">"&nbsp;;;"</span>&nbsp;;&nbsp;closing&nbsp;|]&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="constructor">Readwrite</span>.array_write_text_file&nbsp;[|&nbsp;<span class="string">"#!/bin/sh"</span>&nbsp;;&nbsp;<span class="string">"ocamlc.opt&nbsp;-linkall&nbsp;-o&nbsp;/dev/null&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/graphics.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/nums.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/str.cma&nbsp;"</span>&nbsp;^&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/lib/ocaml/unix.cma&nbsp;"</span>&nbsp;^&nbsp;<span class="string">"-I&nbsp;"</span>&nbsp;^&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"&nbsp;graphicmath.cma&nbsp;tmp_try.ml"</span>&nbsp;|]&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"sh&nbsp;tmp_try.sh&nbsp;&gt;&nbsp;/dev/null&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;result&nbsp;:=&nbsp;(&nbsp;!test&nbsp;^&nbsp;<span class="string">"."</span>&nbsp;^&nbsp;x&nbsp;,&nbsp;stamp&nbsp;)&nbsp;::&nbsp;!result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;&nbsp;:=&nbsp;<span class="constructor">List</span>.tl&nbsp;!list<br>
&nbsp;&nbsp;<span class="keyword">done</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.ml"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.sh"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_try.cmi"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;<span class="constructor">Array</span>.of_list&nbsp;(&nbsp;<span class="constructor">List</span>.rev&nbsp;!result&nbsp;)&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>which value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;which&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;standard&nbsp;=&nbsp;which_standard&nbsp;standard_modules_list&nbsp;x<br>
&nbsp;<span class="keyword">and</span>&nbsp;non_standard&nbsp;=&nbsp;which_non_standard&nbsp;non_standard_modules_list&nbsp;x<br>
&nbsp;<span class="keyword">and</span>&nbsp;math&nbsp;=&nbsp;which_math&nbsp;math_modules_list&nbsp;x<br>
&nbsp;<span class="keyword">and</span>&nbsp;math_functors&nbsp;=&nbsp;which_math_functor&nbsp;math_functors_list&nbsp;x&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="constructor">Array</span>.concat&nbsp;[&nbsp;standard&nbsp;;&nbsp;non_standard&nbsp;;&nbsp;math_functors&nbsp;;&nbsp;math&nbsp;]&nbsp;;;<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** The functions <code class="code">how*</code> proceed by browsing the html documentation made from the source codes by <code class="code">ocamldoc</code>
(forbidden <code class="code">*.mli</code> interfaces).
<p>

Les fonctions <code class="code">how*</code> procèdent en butinant la documentation html fabriquée à partir des codes sources par <code class="code">ocamldoc</code> 
(interfaces <code class="code">*.mli</code> proscrites). *)</span></td></tr></table><code class="code"><br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>how_generic documentation_directory inter_name complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;how_generic&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(d:string)&nbsp;(inter_name:string)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"lynx&nbsp;-dump&nbsp;-crawl&nbsp;"</span>&nbsp;^&nbsp;d&nbsp;^&nbsp;<span class="string">"/"</span>&nbsp;^&nbsp;inter_name&nbsp;^&nbsp;x&nbsp;^&nbsp;<span class="string">".html&nbsp;&gt;&nbsp;tmp_html&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;f&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;s&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;(&nbsp;<span class="constructor">String</span>.length&nbsp;s&nbsp;)&nbsp;==&nbsp;0<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;text&nbsp;=&nbsp;<span class="constructor">Readwrite</span>.array_read_text_file&nbsp;<span class="string">"tmp_html"</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_html"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;mask&nbsp;=&nbsp;<span class="constructor">Array</span>.map&nbsp;f&nbsp;text<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;header&nbsp;=&nbsp;<span class="constructor">Array</span>.sub&nbsp;text&nbsp;0&nbsp;2&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;beginning&nbsp;=&nbsp;<span class="constructor">Util</span>.array_find_first&nbsp;(&nbsp;(&nbsp;=&nbsp;)&nbsp;<span class="keyword">true</span>&nbsp;)&nbsp;mask&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;corpus&nbsp;=&nbsp;<span class="constructor">Util</span>.array_end&nbsp;(&nbsp;succ&nbsp;beginning&nbsp;)&nbsp;text&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Array</span>.append&nbsp;header&nbsp;corpus<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.how_generic."</span>&nbsp;&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>how_math documentation_directory complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;how_math&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(d:string)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;how_generic&nbsp;d&nbsp;<span class="string">"GraphicmathSpec/code_VALGraphicmath."</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.how_math."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>how complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;how&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;how_math&nbsp;<span class="string">"../math"</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;how_math&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/.."</span>&nbsp;)&nbsp;x<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;how_math&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/../../../doc/ocamlmath"</span>&nbsp;)&nbsp;x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.how."</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;;<br>
<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** The functions <code class="code">what*</code> proceed by browsing the html documentation made by <code class="code">ocamldoc</code>.
<p>

Les fonctions <code class="code">what*</code> procèdent en butinant la documentaion html fabriquée par <code class="code">ocamldoc</code>. *)</span></td></tr></table><code class="code"><br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>what_generic documentation_directory inter_name complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;what_generic&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(d:string)&nbsp;(inter_name:string)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;expression&nbsp;=&nbsp;ref&nbsp;(&nbsp;<span class="constructor">Str</span>.regexp&nbsp;(&nbsp;<span class="constructor">Str</span>.quote&nbsp;<span class="string">"."</span>&nbsp;)&nbsp;)<br>
&nbsp;<span class="keyword">and</span>&nbsp;f&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;e&nbsp;s&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">Readwrite</span>.string_match&nbsp;e&nbsp;s&nbsp;0<br>
&nbsp;<span class="keyword">and</span>&nbsp;r&nbsp;=&nbsp;<span class="constructor">String</span>.length&nbsp;x&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;position&nbsp;=&nbsp;ref&nbsp;(&nbsp;<span class="constructor">Str</span>.search_backward&nbsp;!expression&nbsp;x&nbsp;r&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;cutting&nbsp;=&nbsp;succ&nbsp;!position<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;prefix&nbsp;=&nbsp;<span class="constructor">String</span>.sub&nbsp;x&nbsp;0&nbsp;!position&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;(&nbsp;<span class="string">"lynx&nbsp;-dump&nbsp;-crawl&nbsp;"</span>&nbsp;^&nbsp;d&nbsp;^&nbsp;<span class="string">"/"</span>&nbsp;^&nbsp;inter_name&nbsp;^&nbsp;prefix&nbsp;^&nbsp;<span class="string">".html&nbsp;&gt;&nbsp;tmp_html&nbsp;2&gt;&amp;1"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;postfix&nbsp;=&nbsp;<span class="constructor">String</span>.sub&nbsp;x&nbsp;cutting&nbsp;(&nbsp;r&nbsp;-&nbsp;cutting&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;text&nbsp;=&nbsp;ref&nbsp;(&nbsp;<span class="constructor">Readwrite</span>.array_read_text_file&nbsp;<span class="string">"tmp_html"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_html"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression&nbsp;:=&nbsp;<span class="constructor">Str</span>.regexp&nbsp;(&nbsp;<span class="constructor">Str</span>.quote&nbsp;(&nbsp;<span class="string">"val&nbsp;"</span>&nbsp;^&nbsp;postfix&nbsp;)&nbsp;)&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position&nbsp;:=&nbsp;<span class="constructor">Util</span>.array_find_first&nbsp;(&nbsp;f&nbsp;!expression&nbsp;)&nbsp;!text&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;:=&nbsp;<span class="constructor">Util</span>.array_end&nbsp;!position&nbsp;!text&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression&nbsp;:=&nbsp;<span class="constructor">Str</span>.regexp&nbsp;(&nbsp;<span class="string">"^val&nbsp;"</span>&nbsp;)&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position&nbsp;:=&nbsp;<span class="constructor">Util</span>.array_find_first&nbsp;(&nbsp;f&nbsp;!expression&nbsp;)&nbsp;(&nbsp;<span class="constructor">Util</span>.array_end&nbsp;1&nbsp;!text&nbsp;)&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;!position&nbsp;&gt;=&nbsp;0&nbsp;<span class="keyword">then</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Array</span>.sub&nbsp;!text&nbsp;0&nbsp;(&nbsp;!position&nbsp;+&nbsp;1&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span><br>
</code><table><tr><td></td><td><span class="comment">(** Last value of the page.
<p>

On est à la fin de la page. *)</span></td></tr></table><code class="code"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!text<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.what_generic."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>what_math documentation_directory complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;what_math&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(d:string)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;what_generic&nbsp;d&nbsp;<span class="string">"GraphicmathSpec/Graphicmath."</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.what_math."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>what_standard complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;what_standard&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;what_generic&nbsp;(&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/share/doc/ocaml/html/libref"</span>&nbsp;)&nbsp;<span class="string">""</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"not&nbsp;found&nbsp;in&nbsp;Spec.what_standard."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>what_findlib complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;what_findlib&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;what_generic&nbsp;(&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/share/doc/ocaml/findlib/ref-html/lib"</span>&nbsp;)&nbsp;<span class="string">""</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"not&nbsp;found&nbsp;in&nbsp;Spec.what_findlib."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>what_ocamlgraph complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;what_ocamlgraph&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;what_generic&nbsp;(&nbsp;standard_path&nbsp;^&nbsp;<span class="string">"/share/doc/ocamlgraph"</span>&nbsp;)&nbsp;<span class="string">""</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"not&nbsp;found&nbsp;in&nbsp;Spec.what_ocamlgraph."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>what complete_value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;what&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;what_math&nbsp;<span class="string">"../math"</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;what_math&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/.."</span>&nbsp;)&nbsp;x<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what_math&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/../../../doc/ocamlmath"</span>&nbsp;)&nbsp;x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what_standard&nbsp;x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what_findlib&nbsp;x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what_ocamlgraph&nbsp;x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.what."</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;;<br>
<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** The functions <code class="code">why*</code> proceed by browsing the html documentation made from the source codes by <code class="code">ocamldoc</code>
(forbidden <code class="code">*.mli</code> interfaces).
<p>

Les fonctions <code class="code">why*</code> procèdent en butinant la documentation html fabriquée à partir des codes sources par <code class="code">ocamldoc</code> 
(interfaces <code class="code">*.mli</code> proscrites). *)</span></td></tr></table><code class="code"><br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>why_generic documentation_directory inter_name value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;why_generic&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(d:string)&nbsp;(inter_name:string)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">let</span>&nbsp;prefix&nbsp;=&nbsp;d&nbsp;^&nbsp;<span class="string">"/"</span>&nbsp;^&nbsp;inter_name<br>
&nbsp;<span class="keyword">and</span>&nbsp;eq&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;a&nbsp;b&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;(&nbsp;fst&nbsp;a&nbsp;)&nbsp;=&nbsp;(&nbsp;fst&nbsp;b&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;string&nbsp;=&nbsp;ref&nbsp;(&nbsp;<span class="string">"&nbsp;ls&nbsp;"</span>&nbsp;^&nbsp;prefix&nbsp;^&nbsp;<span class="string">"&nbsp;&gt;&nbsp;tmp_list"</span>&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;exit_code&nbsp;=&nbsp;<span class="constructor">Unix</span>.system&nbsp;!string&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;exit_code&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Unix</span>.<span class="constructor">WEXITED</span>&nbsp;0&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;reading&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;s&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">String</span>.concat&nbsp;<span class="string">""</span>&nbsp;(&nbsp;<span class="constructor">Readwrite</span>.list_read_text_file&nbsp;(&nbsp;prefix&nbsp;^&nbsp;s&nbsp;)&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;dir_list&nbsp;=&nbsp;<span class="constructor">Readwrite</span>.array_read_text_file&nbsp;<span class="string">"tmp_list"</span>&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;<span class="constructor">Array</span>.length&nbsp;dir_list&nbsp;==&nbsp;0&nbsp;<span class="keyword">then</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failwith&nbsp;<span class="string">"Bad&nbsp;directory&nbsp;in&nbsp;Spec.why_generic."</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Sys</span>.remove&nbsp;<span class="string">"tmp_list"</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;f&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;s&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;(&nbsp;<span class="constructor">Readwrite</span>.string_match&nbsp;(&nbsp;<span class="constructor">Str</span>.regexp&nbsp;(&nbsp;<span class="constructor">Str</span>.quote&nbsp;x&nbsp;)&nbsp;)&nbsp;(&nbsp;reading&nbsp;s&nbsp;)&nbsp;0&nbsp;,&nbsp;s&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;mask&nbsp;=&nbsp;<span class="constructor">Array</span>.map&nbsp;f&nbsp;dir_list&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;quoting&nbsp;=&nbsp;<span class="constructor">Util</span>.vector_find_all&nbsp;eq&nbsp;(&nbsp;<span class="keyword">true</span>&nbsp;,&nbsp;<span class="string">""</span>&nbsp;)&nbsp;mask<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">and</span>&nbsp;g&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;y&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;snd&nbsp;(&nbsp;<span class="constructor">Array</span>.get&nbsp;mask&nbsp;y&nbsp;)&nbsp;<span class="keyword">in</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Array</span>.map&nbsp;g&nbsp;quoting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.why_generic."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>why_math documentation_directory value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;why_math&nbsp;=&nbsp;<span class="keyword">fun</span>&nbsp;(d:string)&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;why_generic&nbsp;d&nbsp;<span class="string">"GraphicmathSpec/"</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.why_math."</span>&nbsp;;;<br>
<br>
</code><table><tr><td></td><td><span class="comment">(** <pre>why value_string</pre> *)</span></td></tr></table><code class="code"><br>
<span class="keyword">let</span>&nbsp;why&nbsp;=&nbsp;<span class="keyword">function</span>&nbsp;(x:string)&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;why_math&nbsp;<span class="string">"../math"</span>&nbsp;x<br>
&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;why_math&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/.."</span>&nbsp;)&nbsp;x<br>
&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">try</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;why_math&nbsp;(&nbsp;(&nbsp;<span class="constructor">Filename</span>.dirname&nbsp;<span class="constructor">Sys</span>.executable_name&nbsp;)&nbsp;^&nbsp;<span class="string">"/../../../doc/ocamlmath"</span>&nbsp;)&nbsp;x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">with</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failwith&nbsp;<span class="string">"Not&nbsp;found&nbsp;in&nbsp;Spec.why."</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;;;<br>
<br>
<br>
<br>
<br>
<br>
<span class="keyword">end</span></code></body></html>